<% content_for(:title, "Create Auction") %>

<div class="page-content">
  <div class="container" style="max-width:700px;">
    <div class="section-header">
      <div>
        <p class="section-label">Create</p>
        <h1>New Auction</h1>
      </div>
    </div>

    <p style="color:var(--color-text-secondary);margin-bottom:var(--space-2xl);">
      Creating auction for: <strong style="color:var(--color-text);"><%= @artwork.title %></strong>
    </p>

    <%= form_with model: @auction, url: artwork_auctions_path(@artwork) do |f| %>
      <% if @auction.errors.any? %>
        <div style="background:rgba(231,76,60,0.1);border:1px solid rgba(231,76,60,0.3);border-radius:var(--radius-md);padding:var(--space-lg);margin-bottom:var(--space-xl);">
          <p style="color:var(--color-highlight);font-weight:600;margin-bottom:var(--space-sm);"><%= pluralize(@auction.errors.count, "error") %> prevented this auction from being created:</p>
          <ul style="color:var(--color-highlight);font-size:0.9rem;padding-left:var(--space-lg);">
            <% @auction.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="form-row">
        <div class="form-group">
          <%= f.label :starting_price, class: "form-label" %>
          <%= f.number_field :starting_price, class: "form-input", placeholder: "0.00", step: 0.01, min: 0.01 %>
          <p class="form-hint">The minimum starting bid amount</p>
        </div>
        <div class="form-group">
          <%= f.label :reserve_price, class: "form-label" %>
          <%= f.number_field :reserve_price, class: "form-input", placeholder: "Optional", step: 0.01, min: 0.01 %>
          <p class="form-hint">Optional minimum sale price</p>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <%= f.label :starts_at, "Start Date & Time", class: "form-label" %>
          <%= f.datetime_local_field :starts_at, class: "form-input", value: Time.current.strftime("%Y-%m-%dT%H:%M") %>
        </div>
        <div class="form-group">
          <%= f.label :ends_at, "End Date & Time", class: "form-label" %>
          <%= f.datetime_local_field :ends_at, class: "form-input", value: (Time.current + 7.days).strftime("%Y-%m-%dT%H:%M") %>
        </div>
      </div>

      <div style="display:flex;gap:var(--space-md);margin-top:var(--space-2xl);">
        <%= f.submit "Create Auction", class: "btn btn-primary btn-lg" %>
        <%= link_to "Cancel", artwork_path(@artwork), class: "btn btn-outline btn-lg" %>
      </div>
    <% end %>
  </div>
</div>

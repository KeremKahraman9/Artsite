<nav class="navbar" data-controller="navbar">
  <div class="navbar-inner">
    <%= link_to root_path, class: "navbar-brand" do %>
      Art<span>site</span>
    <% end %>

    <ul class="navbar-links">
      <li><%= link_to "Gallery", artworks_path, class: ("active" if controller_name == "artworks" && action_name == "index") %></li>
      <li><%= link_to "Auctions", auctions_path, class: ("active" if controller_name == "auctions") %></li>
      <% if user_signed_in? %>
        <li><%= link_to "Dashboard", dashboard_path, class: ("active" if controller_name == "dashboard") %></li>
      <% end %>
    </ul>

    <div class="navbar-actions">
      <% if user_signed_in? %>
        <% if current_user.can_sell? %>
          <%= link_to "List Artwork", new_artwork_path, class: "btn btn-primary btn-sm" %>
        <% end %>
        <%= link_to "Sign Out", destroy_user_session_path, data: { turbo_method: :delete }, class: "btn btn-ghost btn-sm" %>
      <% else %>
        <%= link_to "Sign In", new_user_session_path, class: "btn btn-ghost btn-sm" %>
        <%= link_to "Join", new_user_registration_path, class: "btn btn-primary btn-sm" %>
      <% end %>

      <button class="navbar-toggle" data-navbar-target="toggle" data-action="click->navbar#toggleMenu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>

  <div class="navbar-mobile" data-navbar-target="menu">
    <%= link_to "Gallery", artworks_path %>
    <%= link_to "Auctions", auctions_path %>
    <% if user_signed_in? %>
      <%= link_to "Dashboard", dashboard_path %>
      <% if current_user.can_sell? %>
        <%= link_to "List Artwork", new_artwork_path %>
      <% end %>
      <%= link_to "Sign Out", destroy_user_session_path, data: { turbo_method: :delete } %>
    <% else %>
      <%= link_to "Sign In", new_user_session_path %>
      <%= link_to "Join Artsite", new_user_registration_path %>
    <% end %>
  </div>
</nav>
